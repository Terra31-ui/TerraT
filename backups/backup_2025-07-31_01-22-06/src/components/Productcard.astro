---
export interface Props {
  id: string;
  name: string;
  img: string;
  price: string;
}

const { id, name, img, price } = Astro.props;
const detailsHref = `/products/${id}`;
---

<div class="block bg-white rounded-xl shadow-lg border-l-8 border-red-600 p-6 max-w-md mx-auto hover:shadow-xl transition-all duration-300">
  <a href={detailsHref} class="flex flex-col items-center">
    <img
      src={img}
      alt={name}
      class="w-48 h-48 object-contain mb-4"
      onerror="this.onerror=null;this.src='/products/placeholder.svg';this.alt='Image not found';"
      loading="lazy"
    />
    <h2 class="text-2xl font-bold text-blue-600 mb-2">{name}</h2>
  </a>
  <p class="text-gray-700 mb-3">
    Professional Tactical Equipment - #1 Supplier
  </p>
  <div class="text-3xl font-extrabold text-red-600 mb-4">
    {price}
  </div>
  <div class="space-y-2">
    <button 
      type="button"
      class="bg-green-600 text-white px-6 py-2 rounded shadow hover:bg-green-700 transition-colors duration-200 w-full"
      onclick={`window.addToCart('${id}', 1, '${price}')`}
    >
      Add to Cart
    </button>
    <a href={detailsHref} class="bg-blue-600 text-white px-6 py-2 rounded shadow hover:bg-blue-700 transition-colors duration-200 inline-block w-full text-center">
      View Details
    </a>
  </div>
</div>

<script src="/cart.js" is:inline></script>